<!DOCTYPE html>
<html lang="ja">

<head>
     
    <meta charset="UTF-8">
     
    <meta name="viewport" content="width=device-width, initial-scale=1" />
     <title>three.js</title>
     
    <meta name="robots" content="noindex,follow">
</head>

<body>
     <canvas id="canvas"></canvas>
     
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>

    <script src="../build/three.min.js"></script>
    <script src="js/OrbitControls.js"></script>
    <script src="js/OBJLoader.js"></script>
    <script src="js/MTLLoader.js"></script>
     
    <script>$(function () {
            //基本設定
            var width = 900;
            var height = 900;

            var renderer = new THREE.WebGLRenderer({
                canvas: document.querySelector("#canvas"),
                alpha: true
            });
            renderer.setPixelRatio(window.devicePixelRatio);
            renderer.setSize(width, height);
            var scene = new THREE.Scene();

            // カメラ設定
            var camera = new THREE.PerspectiveCamera(3, width / height, 1, 10000);
            camera.position.set(1, 300, 500);

            // ライト設定
            ambientLight = new THREE.AmbientLight(0xffffff);
            hemisphereLight = new THREE.HemisphereLight(0xffffff, 0x4169e1, 0.15);
            scene.add(hemisphereLight);
            scene.add(ambientLight);

            // ★追加 マウス操作
            var controls = new THREE.OrbitControls(camera);
            controls.enableZoom = false;
            controls.autoRotate = true;

            // ★追加 MTL,Obj読み込み
            new THREE.MTLLoader().setPath('./img/')
                .load('Lantern_kobit.mtl',
                    function (materials) {
                        materials.preload();
                        new THREE.OBJLoader().setPath('./img/').setMaterials(materials).load('Lantern_kobit.obj',
                            function (object) {
                                objmodel = object.clone();
                                obj = new THREE.Object3D();
                                obj.add(objmodel);
                                obj.position.set(0, -1.2, 0);
                                scene.add(obj);
                            }
                        );
                    });
            var obj = new THREE.Mesh();

            // 実行
            animate();
            function animate() {
                requestAnimationFrame(animate);//★追加 アニメーション実行
                obj.rotation.y += 0.002; //★追加 3Dオブジェクトを自動回転させる
                renderer.render(scene, camera);
            };

            // ★追加 画面リサイズ
            onResize();
            window.addEventListener('resize', onResize);

            function onResize() {
                var width = window.innerWidth;
                var height = window.innerHeight;

                renderer.setPixelRatio(window.devicePixelRatio);
                renderer.setSize(width, height);

                camera.aspect = width / height;
                camera.updateProjectionMatrix();
            }
        });</script>
</body>

</html>

<!--https://dp778.co.jp/blog/production/6743/-->